#makefile v1.0
TARGET=baash
#folders
SRC_DIR=src
OBJ_DIR=obj
#files
INC= -I. -Isrc
_OBJ=baash.o sebastr.o 
_DEPS=sebastr.h
#compiler
COMPILER=gcc
CFLAGS= -Wall -O3
########################################################################
OBJ = $(patsubst %, $(OBJ_DIR)/%, $(_OBJ))
DEPS = $(patsubst %,$(SRC_DIR)/%,$(_DEPS))

$(OBJ_DIR)/%.o: $(SRC_DIR)/%.c $(DEPS)
	@echo "> compiling $<..."
	@mkdir -p $(OBJ_DIR)
	$(COMPILER) -c $< -o $@ $(CFLAGS) $(INC)	
	@echo " "
	
$(TARGET): $(OBJ) $(DEPS)
	@echo "> compiling $(TARGET)..."
	$(COMPILER) $(INC) -o $@ $^ $(CFLAGS)
	@echo " "
	@echo "> COMPLETED: $(TARGET) compiled."

.PHONY: clean
clean:
	@rm -rf $(OBJ_DIR)
	@rm -f $(TARGET)
	@echo "> $(TARGET) cleaned"
